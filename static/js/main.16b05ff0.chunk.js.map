{"version":3,"sources":["contexts/TimerContext.js","contexts/AudioContext.js","contexts/SpotifyContext.js","contexts/ErrorContext.js","AppWithContext.js","components/TimerAndButtons.js","components/TopButtons.js","components/BottomButtons.js","components/AudioUpload.js","components/SpotifyAuthButton.js","components/Errors.js","App.js","index.js"],"names":["TimerContext","React","createContext","AudioContext","SpotifyContext","ErrorContext","AppWithContext","startTimer","a","errLen","getErrLength","state","started","token","fetch","method","headers","res","ok","json","console","log","setState","errors","error","message","length","decrementTimer","stopTimer","clearTimer","addMinute","time","subtractMinute","resetTimer","timerType","interval","setInterval","audio","file","play","e","alert","clearInterval","switchTimers","type","updateAudio","url","URL","createObjectURL","Audio","timerMethods","this","urlStr","window","location","toString","includes","key","params","grant_type","code","split","redirect_uri","process","REACT_APP_REDIRECT_URI","client_id","client_secret","str","push","encodeURIComponent","body","join","data","access_token","timeState","Object","assign","Provider","value","Component","TimerAndButtons","Consumer","minutes","Math","floor","seconds","document","title","id","className","onClick","TopButtons","event","test","target","buttons","getElementsByClassName","i","button","classList","remove","add","targetArr","filter","el","BottomButtons","AudioUpload","addEventListener","preventDefault","onDragEnter","stopPropagation","dropZone","querySelector","setAttribute","label","onDrop","dataTransfer","files","innerText","name","accept","onChange","htmlFor","scopes","SpotifyAuthButton","handleClick","src","alt","Errors","map","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.16b05ff0.chunk.js","sourcesContent":["import React from 'react';\n\nconst TimerContext = React.createContext();\n\nexport default TimerContext;","import React from 'react';\n\nconst AudioContext = React.createContext();\n\nexport default AudioContext;","import React from 'react';\n\nconst SpotifyContext = React.createContext();\n\nexport default SpotifyContext;","import React from 'react';\n\nconst ErrorContext = React.createContext();\n\nexport default ErrorContext;","import React from 'react';\nimport TimerContext from './contexts/TimerContext';\nimport AudioContext from './contexts/AudioContext';\nimport SpotifyContext from './contexts/SpotifyContext';\nimport App from './App';\nimport ErrorContext from './contexts/ErrorContext';\n\nclass AppWithContext extends React.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            started: false,\n            timerType: \"pomodoro\",\n            time: 1500,\n            timerMethods: {\n                startTimer: this.startTimer,\n                stopTimer: this.stopTimer,\n                resetTimer: this.resetTimer,\n                decrementTimer: this.decrementTimer,\n                switchTimers: this.switchTimers,\n                addMinute: this.addMinute,\n                subtractMinute: this.subtractMinute\n            },\n            audio: {\n                file: null,\n                updateAudio: this.updateAudio\n            },\n            token: null,\n            errors: []\n        }\n    }\n\n    async componentDidMount() {\n        console.log(this.state.token);\n        if (this.state.token) {\n            return;\n        }\n\n        let urlStr = window.location.toString()\n\n        if (urlStr.includes('?code=')) {\n            const params = {\n                grant_type: 'authorization_code',\n                code: urlStr.split('?code=')[1],\n                redirect_uri: process.REACT_APP_REDIRECT_URI,\n                client_id: process.env.REACT_APP_SPOTIFY_CLIENT_ID,\n                client_secret: process.env.REACT_APP_SPOTIFY_CLIENT_SECRET\n            }\n\n            let str = [];\n\n            for (let key in params) {\n                str.push(`${key}=${encodeURIComponent(params[key])}`);\n            }\n\n            try {\n                const res = await fetch('https://accounts.spotify.com/api/token', {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/x-www-form-urlencoded'\n                    },\n                    body: str.join('&')\n                });\n\n                const data = await res.json();\n\n                if (!res.ok) {\n                    throw data;\n                }\n\n                this.setState({ token: data.access_token });\n            } catch (e) {\n                window.location = 'http://localhost:3000';\n            }\n        }\n    }\n\n    startTimer = async () => {\n        const errLen = this.getErrLength();\n\n        if (this.state.started) {\n            return;\n        }\n\n        if (this.state.token) {\n            try {\n                const res = await fetch('https://api.spotify.com/v1/me/player/play', {\n                    method: 'PUT',\n                    headers: {\n                        'Authorization': `Bearer ${this.state.token}`\n                    }\n                });\n\n                if (!res.ok) {\n                    throw await res.json();\n                }\n\n            } catch (e) {\n                console.log(e);\n                this.setState({ errors: [...this.state.errors, e.error.message]})\n            }\n        }\n\n        let errors;\n\n        if (this.state.errors.length > errLen) {\n            errors = this.state.errors;\n        } else {\n            errors = [];\n        }\n\n        this.setState({ started: true, errors }, () => {\n            this.decrementTimer();\n        });\n\n    }\n\n    stopTimer = async () => {\n        const errLen = this.getErrLength();\n\n        if (this.state.token) {\n            try {\n                const res = await fetch('https://api.spotify.com/v1/me/player/pause', {\n                method: 'PUT',\n                headers: {\n                    'Authorization': `Bearer ${this.state.token}`\n                }\n            });\n\n            if (!res.ok) {\n                throw await res.json();\n            }\n            } catch (e) {\n                this.setState({ errors: [...this.state.errors, e.error.message] });\n            }\n        }\n\n        let errors;\n\n        if (this.state.errors.length > errLen) {\n            errors = this.state.errors;\n        } else {\n            errors = [];\n        }\n\n        this.setState({ started: false, errors }, () => {\n            this.clearTimer();\n        });\n    }\n\n    addMinute = () => {\n        this.setState({ time: this.state.time + 60 });\n    }\n\n    subtractMinute = () => {\n        if (this.state.time < 60) {\n            this.setState({ time: 0 });\n            return;\n        }\n        this.setState({ time: this.state.time - 60 });\n    }\n\n    resetTimer = () => {\n        let errors = [];\n\n        if (this.state.started) {\n            return;\n        }\n\n        switch (this.state.timerType) {\n            case 'pomodoro':\n                this.setState({ time: 1500, errors });\n                return;\n            case 'short-break':\n                this.setState({ time: 300, errors });\n                return;\n            case 'long-break':\n                this.setState({ time: 600, errors });\n                return;\n            default: return;\n        }\n    }\n\n    decrementTimer = () => {\n        if (!this.state.started) {\n            return;\n        }\n\n        this.interval = setInterval(() => {\n            if (this.state.time === 0) {\n                try {\n                    this.state.audio.file.play();\n                    this.stopTimer();\n                    return;\n                } catch (e) {\n                    alert('There was an issue playing your audio file! Please provide one.')\n                }\n            }\n\n            this.setState({ time: this.state.time - 1 });\n        }, 1000);\n    }\n\n    clearTimer = () => {\n        clearInterval(this.interval);\n        this.interval = null;\n    }\n\n    switchTimers = (type) => {\n        if (this.state.started) {\n            return;\n        }\n\n        switch (type) {\n            case 'pomodoro':\n                this.setState({ timerType: type, time: 1500 });\n                return;\n            case 'short-break':\n                this.setState({ timerType: type, time: 300 });\n                return;\n            case 'long-break':\n                this.setState({ timerType: type, time: 600 });\n                return;\n            default: return;\n        }\n    }\n\n    updateAudio = (file) => {\n        let url = URL.createObjectURL(file);\n        let audio = new Audio(url);\n        this.setState({ audio: { file: audio, updateAudio: this.updateAudio }});\n    }\n\n    getErrLength() {\n        return this.state.errors.length;\n    }\n\n    render() {\n        const timeState = Object.assign({}, this.state);\n        delete timeState.audio;\n\n        return (\n            <ErrorContext.Provider value={this.state.errors}>\n            <TimerContext.Provider value={timeState}>\n                <AudioContext.Provider value={this.state.audio}>\n                    <SpotifyContext.Provider value={this.state.token}>\n                    <App />\n                    </SpotifyContext.Provider>\n                </AudioContext.Provider>\n            </TimerContext.Provider>\n            </ErrorContext.Provider>\n        )\n    }\n}\n\nexport default AppWithContext;","import React from 'react';\nimport TimerContext from '../contexts/TimerContext';\n\nconst TimerAndButtons = () => {\n    return (\n        <TimerContext.Consumer>\n            {({ time, timerMethods: { addMinute, subtractMinute } }) => {\n                const minutes = Math.floor(time / 60);\n                const seconds = time % 60;\n\n                if (seconds < 10) {\n                    document.title = `Panos Timer (${minutes}:0${seconds})`;\n                } else if (minutes === 0 && seconds === 0) {\n                    document.title = `Panos Timer: Time's Up!`\n                } else {\n                    document.title = `Panos Timer (${minutes}:${seconds})`;\n                }\n\n                return (\n                    <section id='timer-container'>\n                        <div className=\"button minute-button\" onClick={subtractMinute}><span id=\"subtract-minute\">-</span></div>\n                        <h1 id='timer'>{seconds < 10 ? `${minutes}:0${seconds}` : `${minutes}:${seconds}`}</h1>\n                        <div className=\"button minute-button\" onClick={addMinute}><span id=\"add-minute\">+</span></div>\n                    </section>\n                )\n            }}\n        </TimerContext.Consumer>\n    )\n}\n\nexport default TimerAndButtons;","import React from 'react';\nimport TimerContext from '../contexts/TimerContext';\n\nconst TopButtons = () => {\n    return (\n        <TimerContext.Consumer>\n            {({ timerMethods: { switchTimers }, started }) => {\n                function handleClick (event) {\n                    if (!/button$/.test(event.target.id) || started) {\n                        return;\n                    }\n\n                    const buttons = document.getElementsByClassName('button');\n\n                    for (let i = 0; i < buttons.length; i++) {\n                        const button = buttons[i];\n                        if (!/^start/.test(button.id) || /^stop/.test(button.id) || /^reset/.test(button.id)) {\n                            buttons[i].classList.remove('selected-button');\n                        }\n                    }\n\n                    event.target.classList.add('selected-button');\n\n                    const targetArr = event.target.id.split('-');\n                    switchTimers(targetArr.filter((el, i) => i !== targetArr.length - 1).join('-'));\n                }\n\n                return (\n                <section id=\"top-buttons\" onClick={handleClick}>\n                <div id=\"pomodoro-button\" className=\"button selected-button\">Pomodoro</div>\n                <div id=\"short-break-button\" className=\"button\">Short Break</div>\n                <div id=\"long-break-button\" className=\"button\">Long Break</div>\n                </section>\n                );\n            }}\n        </TimerContext.Consumer>\n    )\n}\n\nexport default TopButtons;","import React from 'react';\nimport TimerContext from '../contexts/TimerContext';\n\nconst BottomButtons = () => {\n    return (\n        <TimerContext.Consumer>\n            {({ timerMethods: {startTimer, stopTimer, resetTimer} }) => {\n                const handleClick = (event) => {\n                    switch(event.target.id) {\n                        case 'start-button':\n                            startTimer();\n                            return;\n                        case 'stop-button':\n                            stopTimer();\n                            return;\n                        case 'reset-button':\n                            resetTimer();\n                            return;\n                        default: return;\n                    }\n                }\n\n                return (\n                    <section id=\"buttons\" onClick={handleClick}>\n                        <div id=\"start-button\" className=\"button\">Start</div>\n                        <div id=\"stop-button\" className=\"button\">Stop</div>\n                        <div id=\"reset-button\" className=\"button\">Reset</div>\n                    </section>\n                );\n            }}\n        </TimerContext.Consumer>\n    )\n}\n\nexport default BottomButtons;","import React from 'react';\nimport AudioContext from '../contexts/AudioContext';\n\nconst AudioUpload = () => {\n    return (\n        <AudioContext.Consumer>\n            {({ file, updateAudio }) => {\n                window.addEventListener('drop', event => {\n                    event.preventDefault();\n                });\n\n                window.addEventListener('dragover', event => {\n                    event.preventDefault();\n                });\n\n                const handleFileChange = (event) => {\n                    const file = document.querySelector('#audio-file').files[0];\n                    updateAudio(file);\n                    document.querySelector('label').innerText = `Chosen file: ${file.name}`;\n                }\n\n                const handleDragEnter = (event) => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    const dropZone = document.querySelector('#audio-upload');\n                    dropZone.setAttribute('class', 'dragHover');\n                    const label = document.querySelector('label');\n                    label.classList.add('no-events');\n\n                    dropZone.addEventListener('dragleave', event => {\n                        event.stopPropagation();\n                        event.preventDefault();\n                        dropZone.classList.remove('dragHover');\n                        label.classList.remove('no-events');\n                    });\n                }\n\n                const handleDrop = (event) => {\n                    event.stopPropagation();\n                    event.preventDefault();\n\n                    document.querySelector('#audio-upload').classList.remove('dragHover');\n                    document.querySelector('label').classList.remove('no-events');\n\n                    const file = event.dataTransfer.files[0];\n                    updateAudio(file);\n                    document.querySelector('label').innerText = `Chosen file: ${file.name}`;\n                }\n\n                return (\n                    <section id=\"audio-upload\" onDragEnter={handleDragEnter} onDrop={handleDrop}>\n                        <h3 id=\"upload-header\" className=\"no-events\">Choose or drag and drop an audio file to play when the timer expires</h3>\n                        <input type=\"file\" id=\"audio-file\" accept=\"audio/*\" className=\"hidden no-events\" onChange={handleFileChange} />\n                        <label htmlFor=\"audio-file\">Choose a file</label>\n                    </section>\n                )\n            }}\n        </AudioContext.Consumer>\n    )\n}\n\nexport default AudioUpload;","import React from 'react';\nimport SpotifyContext from '../contexts/SpotifyContext';\n\nconst scopes = process.env.REACT_APP_SPOTIFY_SCOPES\nconst myClientId = process.env.REACT_APP_SPOTIFY_CLIENT_ID;\n\nconst SpotifyAuthButton = () => {\n    const url = `https://accounts.spotify.com/authorize?response_type=code&client_id=` + myClientId + (scopes ? '&scope=' + encodeURIComponent(scopes): \"\") + '&show_dialog=' + encodeURIComponent(true) + '&redirect_uri=' + encodeURIComponent(process.env.REACT_APP_REDIRECT_URI);\n\n    const handleClick = () => {\n        window.location = url;\n    }\n    return (\n        <SpotifyContext.Consumer>\n            {\n                value => {\n                    return (\n                        <button id='spotify-log-in' onClick={handleClick} className={value ? 'no-events' : 'button'}>\n                            <img id='spotify-logo' src='https://1000logos.net/wp-content/uploads/2017/08/Spotify-Logo.png' alt='Spotify logo'/>\n                            {value ? <span id='spotify-text'>Logged In</span> : <span id='spotify-text'>Log In to Spotify</span>}\n                        </button>\n                    )\n                }\n            }\n        </SpotifyContext.Consumer>\n    )\n}\n\nexport default SpotifyAuthButton;","import React from 'react';\nimport ErrorContext from '../contexts/ErrorContext';\n\nconst Errors = () => {\n    return (\n        <ErrorContext.Consumer>\n            {(errors) => {\n               if (errors.length) {\n                   return (\n                   <div id='error-container'>\n                       <ul>\n                           {errors.map((error, i) => {\n                               return (\n                               <li key={`error-${i + 1}`}>{error}</li>\n                               );\n                           })}\n                       </ul>\n                   </div>\n                   );\n               } else {\n                   return (\n                   <div id='error-container' className='hidden'>\n                   </div>\n                   );\n               }\n            }}\n        </ErrorContext.Consumer>\n    )\n}\n\nexport default Errors;","import React from 'react';\nimport TimerAndButtons from './components/TimerAndButtons';\nimport TopButtons from './components/TopButtons';\nimport BottomButtons from './components/BottomButtons';\nimport AudioUpload from './components/AudioUpload';\nimport SpotifyAuthButton from './components/SpotifyAuthButton';\nimport Errors from './components/Errors';\n\nfunction App() {\n  return (\n    <>\n    <div id='top-container'>\n    <AudioUpload />\n    <Errors />\n    <SpotifyAuthButton />\n    </div>\n    <div id='center-screen'>\n      <TopButtons />\n      <TimerAndButtons />\n      <BottomButtons />\n    </div>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport AppWithContext from './AppWithContext';\n\nReactDOM.render(\n  <React.StrictMode>\n    <AppWithContext />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}